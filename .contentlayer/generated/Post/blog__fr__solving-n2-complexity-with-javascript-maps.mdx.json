{
  "title": "Résoudre la Complexité N² avec les Maps JavaScript",
  "date": "2024-11-20T00:00:00.000Z",
  "language": "fr",
  "category": "Development",
  "image": "/images/articles/performance.jpg",
  "description": "Apprenez à transformer des boucles imbriquées inefficaces en solutions performantes en utilisant les Maps JavaScript.",
  "timeToRead": 4,
  "alternates": {
    "en": "solving-n2-complexity-with-javascript-maps",
    "fr": "solving-n2-complexity-with-javascript-maps"
  },
  "body": {
    "raw": "\nEn tant que développeurs, nous rencontrons souvent des situations où nous devons trouver des relations entre des éléments dans différents arrays. La solution immédiate qui vient à l'esprit est généralement des boucles imbriquées, conduisant à une complexité O(n²).\nCependant, au-delà des mauvaises performances, il y a un problème plus sérieux : dans des environnements à fort trafic, un algorithme O(n²) peut bloquer la boucle d'événements et geler votre serveur.\n\nExplorons un exemple concret et voyons comment nous pouvons améliorer drastiquement les performances en utilisant les Maps JavaScript.\n\n## Le Problème N²\n\nConsidérez ce scénario courant où nous devons associer des utilisateurs à leurs commandes :\n\n```javascript\nconst users = [\n  { id: 1, name: 'Alice' },\n  { id: 2, name: 'Bob' },\n  // ... potentiellement des milliers d'utilisateurs\n]\n\nconst orders = [\n  { userId: 1, product: 'Laptop' },\n  { userId: 2, product: 'Phone' },\n  // ... potentiellement des milliers de commandes\n]\n\n// Solution inefficace O(n²)\nconst getUserOrders = () => {\n  return users.map((user) => {\n    const userOrders = orders.filter((order) => order.userId === user.id)\n    return {\n      ...user,\n      orders: userOrders,\n    }\n  })\n}\n```\n\nAvec cette approche, pour chaque utilisateur, nous scannons tout le array des commandes. Si nous avons 1 000 utilisateurs et 1 000 commandes, nous effectuons 1 000 000 de comparaisons !\n\n## Le Plus Gros Problème : Bloquer la Boucle d'Événements\n\nJavaScript s'exécute sur un thread unique, ce qui signifie que la boucle d'événements est responsable du traitement de toutes les tâches, de la gestion des requêtes HTTP aux requêtes de base de données. Quand une opération coûteuse en calcul comme une boucle O(n²) prend trop de temps, elle bloque la boucle d'événements, causant l'arrêt de réponse du serveur aux requêtes entrantes. Cela peut résulter en :\n- Réponses Retardées : Les autres utilisateurs subissent une latence accrue.\n- Gels de Serveur : Les requêtes peuvent expirer, dégradant l'expérience utilisateur.\n- Ressources Gaspillées : Dans une architecture de microservices, un service gelé peut déclencher des défaillances en cascade.\n\nC'est pourquoi résoudre la complexité O(n²) n'est pas seulement une question d'optimisation des performances - c'est une question de garder votre application réactive et stable.\n\n## La Solution Map\n\nVoici comment nous pouvons résoudre cela en utilisant une Map pour atteindre une complexité O(n) :\n\n```javascript\nconst getUserOrdersEfficient = () => {\n  // Créer une Map de commandes indexées par userId\n  const orderMap = new Map()\n  orders.forEach((order) => {\n    if (!orderMap.has(order.userId)) {\n      orderMap.set(order.userId, [])\n    }\n    orderMap.get(order.userId).push(order)\n  })\n\n  // Maintenant nous pouvons rechercher les commandes directement par userId\n  return users.map((user) => ({\n    ...user,\n    orders: orderMap.get(user.id) || [],\n  }))\n}\n```\n\n## Comparaison de Performance\n\nRegardons la différence de performance réelle :\n\n```javascript\n// Test avec des datasets plus larges\nconst generateTestData = (size) => {\n  const users = Array.from({ length: size }, (_, i) => ({\n    id: i + 1,\n    name: `User${i + 1}`,\n  }))\n  const orders = Array.from({ length: size }, (_, i) => ({\n    userId: Math.floor(Math.random() * size) + 1,\n    product: `Product${i + 1}`,\n  }))\n  return { users, orders }\n}\n\nconst { users, orders } = generateTestData(10000)\n\nconsole.time('Solution N²')\ngetUserOrders()\nconsole.timeEnd('Solution N²')\n// Solution N² : ~500ms\n\nconsole.time('Solution Map')\ngetUserOrdersEfficient()\nconsole.timeEnd('Solution Map')\n// Solution Map : ~5ms\n```\n\n## Pourquoi les Maps Sont Meilleures Ici\n\n1. **Traitement en un Seul Passage** : Nous n'avons besoin d'itérer à travers chaque array qu'une seule fois\n2. **Lookups O(1)** : Map fournit un accès en temps constant aux valeurs stockées\n3. **Efficace en Mémoire** : Nous échangeons une petite quantité de mémoire contre des gains de performance massifs\n4. **Scalabilité** : Les performances restent linéaires à mesure que la taille des données augmente\n\n## Bonnes Pratiques pour Utiliser les Maps\n\nLors de l'implémentation de ce pattern, gardez à l'esprit :\n\n1. **Pré-dimensionner Vos Maps** : Si vous connaissez la taille de vos données, vous pouvez optimiser l'allocation mémoire :\n\n```javascript\nconst orderMap = new Map()\norderMap.set(user.id, [])\n```\n\n2. **Effacer les Références** : Quand vous avez terminé, effacez la Map pour aider le garbage collection :\n\n```javascript\norderMap.clear()\n```\n\n## Conclusion\n\nLa prochaine fois que vous vous trouvez en train d'écrire des boucles imbriquées, arrêtez-vous et considérez si une solution basée sur Map pourrait être plus appropriée. Le petit effort de restructurer vos données peut conduire à des améliorations de performance dramatiques, surtout à mesure que vos datasets grandissent.\n\nRappelez-vous :\n\n- Les boucles imbriquées sont souvent un signal d'alarme pour des problèmes de performance\n- Les Maps fournissent un temps de lookup O(1)\n- Les algorithmes O(n²) peuvent bloquer la boucle d'événements et geler le serveur\n- L'utilisation mémoire supplémentaire vaut généralement le gain de performance\n- Mesurez toujours les performances avec des tailles de données réalistes\n\nEn faisant des choix intelligents concernant les structures de données, nous pouvons écrire du code qui non seulement fonctionne mais évolue efficacement avec la croissance de nos applications.\n",
    "code": "var Component=(()=>{var u=Object.create;var c=Object.defineProperty;var d=Object.getOwnPropertyDescriptor;var m=Object.getOwnPropertyNames;var h=Object.getPrototypeOf,k=Object.prototype.hasOwnProperty;var N=(a,n)=>()=>(n||a((n={exports:{}}).exports,n),n.exports),f=(a,n)=>{for(var s in n)c(a,s,{get:n[s],enumerable:!0})},r=(a,n,s,o)=>{if(n&&typeof n==\"object\"||typeof n==\"function\")for(let t of m(n))!k.call(a,t)&&t!==s&&c(a,t,{get:()=>n[t],enumerable:!(o=d(n,t))||o.enumerable});return a};var g=(a,n,s)=>(s=a!=null?u(h(a)):{},r(n||!a||!a.__esModule?c(s,\"default\",{value:a,enumerable:!0}):s,a)),y=a=>r(c({},\"__esModule\",{value:!0}),a);var i=N((x,l)=>{l.exports=_jsx_runtime});var M={};f(M,{default:()=>w,frontmatter:()=>v});var e=g(i()),v={date:\"2024-11-20\",language:\"fr\",title:\"R\\xE9soudre la Complexit\\xE9 N\\xB2 avec les Maps JavaScript\",category:\"Development\",image:\"/images/articles/performance.jpg\",description:\"Apprenez \\xE0 transformer des boucles imbriqu\\xE9es inefficaces en solutions performantes en utilisant les Maps JavaScript.\",timeToRead:4,alternates:{en:\"solving-n2-complexity-with-javascript-maps\",fr:\"solving-n2-complexity-with-javascript-maps\"}};function p(a){let n=Object.assign({p:\"p\",h2:\"h2\",pre:\"pre\",code:\"code\",span:\"span\",ul:\"ul\",li:\"li\",ol:\"ol\",strong:\"strong\"},a.components);return(0,e.jsxs)(e.Fragment,{children:[(0,e.jsx)(n.p,{children:`En tant que d\\xE9veloppeurs, nous rencontrons souvent des situations o\\xF9 nous devons trouver des relations entre des \\xE9l\\xE9ments dans diff\\xE9rents arrays. La solution imm\\xE9diate qui vient \\xE0 l'esprit est g\\xE9n\\xE9ralement des boucles imbriqu\\xE9es, conduisant \\xE0 une complexit\\xE9 O(n\\xB2).\nCependant, au-del\\xE0 des mauvaises performances, il y a un probl\\xE8me plus s\\xE9rieux : dans des environnements \\xE0 fort trafic, un algorithme O(n\\xB2) peut bloquer la boucle d'\\xE9v\\xE9nements et geler votre serveur.`}),`\n`,(0,e.jsx)(n.p,{children:\"Explorons un exemple concret et voyons comment nous pouvons am\\xE9liorer drastiquement les performances en utilisant les Maps JavaScript.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"Le Probl\\xE8me N\\xB2\"}),`\n`,(0,e.jsx)(n.p,{children:\"Consid\\xE9rez ce sc\\xE9nario courant o\\xF9 nous devons associer des utilisateurs \\xE0 leurs commandes :\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" users \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Alice'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Bob'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ... potentiellement des milliers d'utilisateurs\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" orders \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Laptop'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"2\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token string\",children:\"'Phone'\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// ... potentiellement des milliers de commandes\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Solution inefficace O(n\\xB2)\"}),`\n`,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-variable function\",children:\"getUserOrders\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" users\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" userOrders \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" orders\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"filter\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"order\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" order\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"userId\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"===\"}),\" user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n      `,(0,e.jsx)(n.span,{className:\"token spread operator\",children:\"...\"}),\"user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n      `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"orders\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" userOrders\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,e.jsx)(n.p,{children:\"Avec cette approche, pour chaque utilisateur, nous scannons tout le array des commandes. Si nous avons 1 000 utilisateurs et 1 000 commandes, nous effectuons 1 000 000 de comparaisons !\"}),`\n`,(0,e.jsx)(n.h2,{children:\"Le Plus Gros Probl\\xE8me : Bloquer la Boucle d'\\xC9v\\xE9nements\"}),`\n`,(0,e.jsx)(n.p,{children:\"JavaScript s'ex\\xE9cute sur un thread unique, ce qui signifie que la boucle d'\\xE9v\\xE9nements est responsable du traitement de toutes les t\\xE2ches, de la gestion des requ\\xEAtes HTTP aux requ\\xEAtes de base de donn\\xE9es. Quand une op\\xE9ration co\\xFBteuse en calcul comme une boucle O(n\\xB2) prend trop de temps, elle bloque la boucle d'\\xE9v\\xE9nements, causant l'arr\\xEAt de r\\xE9ponse du serveur aux requ\\xEAtes entrantes. Cela peut r\\xE9sulter en :\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"R\\xE9ponses Retard\\xE9es : Les autres utilisateurs subissent une latence accrue.\"}),`\n`,(0,e.jsx)(n.li,{children:\"Gels de Serveur : Les requ\\xEAtes peuvent expirer, d\\xE9gradant l'exp\\xE9rience utilisateur.\"}),`\n`,(0,e.jsx)(n.li,{children:\"Ressources Gaspill\\xE9es : Dans une architecture de microservices, un service gel\\xE9 peut d\\xE9clencher des d\\xE9faillances en cascade.\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"C'est pourquoi r\\xE9soudre la complexit\\xE9 O(n\\xB2) n'est pas seulement une question d'optimisation des performances - c'est une question de garder votre application r\\xE9active et stable.\"}),`\n`,(0,e.jsx)(n.h2,{children:\"La Solution Map\"}),`\n`,(0,e.jsx)(n.p,{children:\"Voici comment nous pouvons r\\xE9soudre cela en utilisant une Map pour atteindre une complexit\\xE9 O(n) :\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-variable function\",children:\"getUserOrdersEfficient\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Cr\\xE9er une Map de commandes index\\xE9es par userId\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" orderMap \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n  orders`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"forEach\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"order\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"if\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\"!\"}),\"orderMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"has\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"order\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n      orderMap`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"set\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"order\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n    orderMap`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"order\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"push\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"order\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n\n  `,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Maintenant nous pouvons rechercher les commandes directement par userId\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" users\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"user\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token spread operator\",children:\"...\"}),\"user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"orders\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" orderMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"get\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"||\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`]})}),`\n`,(0,e.jsx)(n.h2,{children:\"Comparaison de Performance\"}),`\n`,(0,e.jsx)(n.p,{children:\"Regardons la diff\\xE9rence de performance r\\xE9elle :\"}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Test avec des datasets plus larges\"}),`\n`,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token function-variable function\",children:\"generateTestData\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token parameter\",children:\"size\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" users \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Array\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"length\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" size \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"name\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"User\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" orders \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Array\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token keyword module\",children:\"from\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" \",(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"length\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" size \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsxs)(n.span,{className:\"token parameter\",children:[\"_\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" i\"]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token arrow operator\",children:\"=>\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"userId\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"floor\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token known-class-name class-name\",children:\"Math\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"random\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"*\"}),\" size\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n    `,(0,e.jsx)(n.span,{className:\"token literal-property property\",children:\"product\"}),(0,e.jsx)(n.span,{className:\"token operator\",children:\":\"}),\" \",(0,e.jsxs)(n.span,{className:\"token template-string\",children:[(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"Product\"}),(0,e.jsxs)(n.span,{className:\"token interpolation\",children:[(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"${\"}),\"i \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"+\"}),\" \",(0,e.jsx)(n.span,{className:\"token number\",children:\"1\"}),(0,e.jsx)(n.span,{className:\"token interpolation-punctuation punctuation\",children:\"}\"})]}),(0,e.jsx)(n.span,{className:\"token template-punctuation string\",children:\"`\"})]}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n  `,(0,e.jsx)(n.span,{className:\"token keyword control-flow\",children:\"return\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" users\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" orders \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"{\"}),\" users\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" orders \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"}\"}),\" \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token function\",children:\"generateTestData\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token number\",children:\"10000\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"time\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Solution N\\xB2'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token function\",children:\"getUserOrders\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"timeEnd\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Solution N\\xB2'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Solution N\\xB2 : ~500ms\"}),`\n\n`,(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"time\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Solution Map'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token function\",children:\"getUserOrdersEfficient\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token console class-name\",children:\"console\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"timeEnd\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token string\",children:\"'Solution Map'\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`,(0,e.jsx)(n.span,{className:\"token comment\",children:\"// Solution Map : ~5ms\"}),`\n`]})}),`\n`,(0,e.jsx)(n.h2,{children:\"Pourquoi les Maps Sont Meilleures Ici\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Traitement en un Seul Passage\"}),\" : Nous n'avons besoin d'it\\xE9rer \\xE0 travers chaque array qu'une seule fois\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Lookups O(1)\"}),\" : Map fournit un acc\\xE8s en temps constant aux valeurs stock\\xE9es\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Efficace en M\\xE9moire\"}),\" : Nous \\xE9changeons une petite quantit\\xE9 de m\\xE9moire contre des gains de performance massifs\"]}),`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Scalabilit\\xE9\"}),\" : Les performances restent lin\\xE9aires \\xE0 mesure que la taille des donn\\xE9es augmente\"]}),`\n`]}),`\n`,(0,e.jsx)(n.h2,{children:\"Bonnes Pratiques pour Utiliser les Maps\"}),`\n`,(0,e.jsx)(n.p,{children:\"Lors de l'impl\\xE9mentation de ce pattern, gardez \\xE0 l'esprit :\"}),`\n`,(0,e.jsxs)(n.ol,{children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Pr\\xE9-dimensionner Vos Maps\"}),\" : Si vous connaissez la taille de vos donn\\xE9es, vous pouvez optimiser l'allocation m\\xE9moire :\"]}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript\",children:[(0,e.jsx)(n.span,{className:\"token keyword\",children:\"const\"}),\" orderMap \",(0,e.jsx)(n.span,{className:\"token operator\",children:\"=\"}),\" \",(0,e.jsx)(n.span,{className:\"token keyword\",children:\"new\"}),\" \",(0,e.jsx)(n.span,{className:\"token class-name\",children:\"Map\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\norderMap`,(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"set\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),\"user\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token property-access\",children:\"id\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\",\"}),\" \",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"[\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"]\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})}),`\n`,(0,e.jsxs)(n.ol,{start:\"2\",children:[`\n`,(0,e.jsxs)(n.li,{children:[(0,e.jsx)(n.strong,{children:\"Effacer les R\\xE9f\\xE9rences\"}),\" : Quand vous avez termin\\xE9, effacez la Map pour aider le garbage collection :\"]}),`\n`]}),`\n`,(0,e.jsx)(n.pre,{className:\"language-javascript\",children:(0,e.jsxs)(n.code,{className:\"language-javascript\",children:[\"orderMap\",(0,e.jsx)(n.span,{className:\"token punctuation\",children:\".\"}),(0,e.jsx)(n.span,{className:\"token method function property-access\",children:\"clear\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\"(\"}),(0,e.jsx)(n.span,{className:\"token punctuation\",children:\")\"}),`\n`]})}),`\n`,(0,e.jsx)(n.h2,{children:\"Conclusion\"}),`\n`,(0,e.jsx)(n.p,{children:\"La prochaine fois que vous vous trouvez en train d'\\xE9crire des boucles imbriqu\\xE9es, arr\\xEAtez-vous et consid\\xE9rez si une solution bas\\xE9e sur Map pourrait \\xEAtre plus appropri\\xE9e. Le petit effort de restructurer vos donn\\xE9es peut conduire \\xE0 des am\\xE9liorations de performance dramatiques, surtout \\xE0 mesure que vos datasets grandissent.\"}),`\n`,(0,e.jsx)(n.p,{children:\"Rappelez-vous :\"}),`\n`,(0,e.jsxs)(n.ul,{children:[`\n`,(0,e.jsx)(n.li,{children:\"Les boucles imbriqu\\xE9es sont souvent un signal d'alarme pour des probl\\xE8mes de performance\"}),`\n`,(0,e.jsx)(n.li,{children:\"Les Maps fournissent un temps de lookup O(1)\"}),`\n`,(0,e.jsx)(n.li,{children:\"Les algorithmes O(n\\xB2) peuvent bloquer la boucle d'\\xE9v\\xE9nements et geler le serveur\"}),`\n`,(0,e.jsx)(n.li,{children:\"L'utilisation m\\xE9moire suppl\\xE9mentaire vaut g\\xE9n\\xE9ralement le gain de performance\"}),`\n`,(0,e.jsx)(n.li,{children:\"Mesurez toujours les performances avec des tailles de donn\\xE9es r\\xE9alistes\"}),`\n`]}),`\n`,(0,e.jsx)(n.p,{children:\"En faisant des choix intelligents concernant les structures de donn\\xE9es, nous pouvons \\xE9crire du code qui non seulement fonctionne mais \\xE9volue efficacement avec la croissance de nos applications.\"})]})}function b(a={}){let{wrapper:n}=a.components||{};return n?(0,e.jsx)(n,Object.assign({},a,{children:(0,e.jsx)(p,a)})):p(a)}var w=b;return y(M);})();\n;return Component;"
  },
  "_id": "blog/fr/solving-n2-complexity-with-javascript-maps.mdx",
  "_raw": {
    "sourceFilePath": "blog/fr/solving-n2-complexity-with-javascript-maps.mdx",
    "sourceFileName": "solving-n2-complexity-with-javascript-maps.mdx",
    "sourceFileDir": "blog/fr",
    "contentType": "mdx",
    "flattenedPath": "blog/fr/solving-n2-complexity-with-javascript-maps"
  },
  "type": "Post",
  "url": "/fr/blog/solving-n2-complexity-with-javascript-maps",
  "slug": "solving-n2-complexity-with-javascript-maps"
}